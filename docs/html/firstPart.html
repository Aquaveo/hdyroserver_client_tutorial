<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Tutorial &#8212; HydroClient Tutorial  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=039e1c02" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Welcome to HydroClient Tutorial’s documentation!" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="tutorial">
<h1>Tutorial<a class="headerlink" href="#tutorial" title="Link to this heading">¶</a></h1>
<p>The following tutorial will walk help you to create a <a class="reference external" href="https://docs.tethysplatform.org/en/stable/">Tethys</a>  application that retrieves stations from a <a class="reference external" href="https://hydroserver2.github.io/hydroserver/guide/getting-started.html">HydroServer</a> instance
and, it saves reaches from the <a class="reference external" href="https://geoglows.ecmwf.int/documentation">GEOGloWS ECMWF Streamflow Service</a> into a local PostgreSQL application.</p>
<section id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>tethys-platform installed locally in the development environment.</p></li>
<li><p>Any Text Editor</p></li>
</ul>
</section>
<section id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Link to this heading">¶</a></h2>
<p>Please create an scaffold of the app using the following command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>conda<span class="w"> </span>activate<span class="w"> </span>tethys
tethys<span class="w"> </span>scaffold<span class="w"> </span>hydroserver_client
tethys<span class="w"> </span>install<span class="w"> </span>-d
</pre></div>
</div>
<p>The following will create a start up project, that we will need to clean, please copy the following contents to the following files:
The <cite>home.html</cite> should be the following:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{% extends &quot;hydroserver_client/base.html&quot; %}

{% block header_buttons %}
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;header-button glyphicon-button&quot;</span> <span class="na">data-bs-toggle</span><span class="o">=</span><span class="s">&quot;tooltip&quot;</span> <span class="na">data-bs-placement</span><span class="o">=</span><span class="s">&quot;bottom&quot;</span> <span class="na">title</span><span class="o">=</span><span class="s">&quot;Help&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">data-bs-toggle</span><span class="o">=</span><span class="s">&quot;modal&quot;</span> <span class="na">data-bs-target</span><span class="o">=</span><span class="s">&quot;#help-modal&quot;</span><span class="p">&gt;&lt;</span><span class="nt">i</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;bi bi-question-circle&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">i</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
{% endblock %}

{% block app_content %}

{% endblock %}

{# Use the after_app_content block for modals #}
{% block after_app_content %}
<span class="cm">&lt;!-- Example Modal --&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal fade&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;help-modal&quot;</span> <span class="na">tabindex</span><span class="o">=</span><span class="s">&quot;-1&quot;</span> <span class="na">role</span><span class="o">=</span><span class="s">&quot;dialog&quot;</span> <span class="na">aria-labelledby</span><span class="o">=</span><span class="s">&quot;help-modal-label&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-dialog&quot;</span> <span class="na">role</span><span class="o">=</span><span class="s">&quot;document&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-content&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-header&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">h5</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-title&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;help-modal-label&quot;</span><span class="p">&gt;</span>Example Modal<span class="p">&lt;/</span><span class="nt">h5</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn-close&quot;</span> <span class="na">data-bs-dismiss</span><span class="o">=</span><span class="s">&quot;modal&quot;</span> <span class="na">aria-label</span><span class="o">=</span><span class="s">&quot;Close&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-body&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>You can add custom buttons to the app header using the <span class="p">&lt;</span><span class="nt">code</span><span class="p">&gt;</span>header_buttons<span class="p">&lt;/</span><span class="nt">code</span><span class="p">&gt;</span> block. Use anchor/link tags for the button and wrap it in a div with the class <span class="p">&lt;</span><span class="nt">code</span><span class="p">&gt;</span>header-button<span class="p">&lt;/</span><span class="nt">code</span><span class="p">&gt;</span>. For buttons with the gliphyicons, add the <span class="p">&lt;</span><span class="nt">code</span><span class="p">&gt;</span>glyphicon-button<span class="p">&lt;/</span><span class="nt">code</span><span class="p">&gt;</span> class as well.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Ever have trouble using a modal in a Tethys app? Use the <span class="p">&lt;</span><span class="nt">code</span><span class="p">&gt;</span>after_app_content<span class="p">&lt;/</span><span class="nt">code</span><span class="p">&gt;</span> block for modal content to allow them to function properly. See: <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://getbootstrap.com/docs/5.1/components/modal/&quot;</span><span class="p">&gt;</span>Bootstrap Modals<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Add tooltips to any element by adding the <span class="p">&lt;</span><span class="nt">code</span><span class="p">&gt;</span>data-bs-toggle<span class="p">&lt;/</span><span class="nt">code</span><span class="p">&gt;</span>, <span class="p">&lt;</span><span class="nt">code</span><span class="p">&gt;</span>data-bs-placement<span class="p">&lt;/</span><span class="nt">code</span><span class="p">&gt;</span>, and <span class="p">&lt;</span><span class="nt">code</span><span class="p">&gt;</span>title<span class="p">&lt;/</span><span class="nt">code</span><span class="p">&gt;</span> attributes to the button. See: <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;https://getbootstrap.com/docs/5.1/components/tooltips/&quot;</span><span class="p">&gt;</span>Bootstrap Tooltips<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;modal-footer&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-secondary&quot;</span> <span class="na">data-bs-dismiss</span><span class="o">=</span><span class="s">&quot;modal&quot;</span><span class="p">&gt;</span>Cancel<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;button&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;btn btn-primary&quot;</span> <span class="na">data-bs-dismiss</span><span class="o">=</span><span class="s">&quot;modal&quot;</span><span class="p">&gt;</span>OK<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
{% endblock %}

{% block app_actions %}

{% endblock %}
</pre></div>
</div>
<p>The <cite>base.html</cite> should be the following:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>{% extends &quot;tethys_apps/app_base.html&quot; %}

{% load static %}

{% block title %}{{ tethys_app.name }}{% endblock %}

{% block app_icon %}
{# The path you provided in your app.py is accessible through the tethys_app.icon context variable #}
<span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{% if &#39;http&#39; in tethys_app.icon %}{{ tethys_app.icon }}{% else %}{% static tethys_app.icon %}{% endif %}&quot;</span> <span class="p">/&gt;</span>
{% endblock %}

{# The name you provided in your app.py is accessible through the tethys_app.name context variable #}
{% block app_title %}{{ tethys_app.name }}{% endblock %}

{% block app_navigation_items %}

{% endblock %}

{% block app_content %}
{% endblock %}

{% block app_actions %}
{% endblock %}

{% block content_dependent_styles %}
{{ block.super }}
<span class="p">&lt;</span><span class="nt">link</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{% static &#39;hydroserver_client/css/main.css&#39; %}&quot;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;stylesheet&quot;</span><span class="p">/&gt;</span>
{% endblock %}

{% block scripts %}
{{ block.super }}
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;{% static &#39;hydroserver_client/js/main.js&#39; %}&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
{% endblock %}
</pre></div>
</div>
<p>The <cite>controllers.py</cite> should be the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>
<span class="kn">from</span> <span class="nn">tethys_sdk.routing</span> <span class="kn">import</span> <span class="n">controller</span>

<span class="nd">@controller</span>
<span class="k">def</span> <span class="nf">home</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Controller for the app home page.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">context</span> <span class="o">=</span> <span class="p">{</span>

    <span class="p">}</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;hydroserver_client/home.html&#39;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="adding-hydroserver-things">
<h2>Adding HydroServer Things<a class="headerlink" href="#adding-hydroserver-things" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>First we need to add a map</p></li>
<li><p>Call the HydroServer API</p></li>
</ol>
</section>
<section id="adding-timeseries-for-hydroserver">
<h2>Adding TimeSeries for HydroServer<a class="headerlink" href="#adding-timeseries-for-hydroserver" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Making markers interactive</p></li>
<li><p>Calling the API</p></li>
</ol>
</section>
<section id="saving-geoglows-reach-id">
<h2>Saving GEOGLoWS reach_id<a class="headerlink" href="#saving-geoglows-reach-id" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Making the map interactive</p></li>
<li><p>Creating a database and saving data</p></li>
</ol>
</section>
<section id="adding-forecast-timeseries-to-the-geoglows-reach-id">
<h2>Adding Forecast TimeSeries to the GeoGlows Reach id<a class="headerlink" href="#adding-forecast-timeseries-to-the-geoglows-reach-id" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Making map interactive</p></li>
<li><p>Calling the service</p></li>
</ol>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">HydroClient Tutorial</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-hydroserver-things">Adding HydroServer Things</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-timeseries-for-hydroserver">Adding TimeSeries for HydroServer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#saving-geoglows-reach-id">Saving GEOGLoWS reach_id</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-forecast-timeseries-to-the-geoglows-reach-id">Adding Forecast TimeSeries to the GeoGlows Reach id</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Welcome to HydroClient Tutorial’s documentation!</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Elkin Romero.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/firstPart.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>